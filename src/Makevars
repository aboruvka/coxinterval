SOURCES = coxaalenic.c rcplex.c coxic.c
OBJECTS = coxaalenic.o rcplex.o coxic.o

ifndef CPX_LIBS
ifneq "$(NO_CPLEX)" "TRUE"
ifndef CPLEXDIR
CPLEXDIR = $(wildcard /Users/*/Applications/IBM/ILOG/CPLEX*)
endif
ifeq "$(CPLEXDIR)" ""
CPLEXDIR = $(wildcard /opt/*/ILOG/CPLEX*)
endif
ifneq "$(CPLEXDIR)" ""
CPLEXLIBDIR = $(wildcard $(CPLEXDIR)/cplex/lib/*/*)
CPX_LIBS = $(addprefix -L, $(CPLEXLIBDIR)) -lcplex -lm
CPLEXINDIR = $(CPLEXDIR)/cplex/include
CPX_FLAGS = $(addprefix -I, $(CPLEXINDIR))
endif
endif
endif

ifeq "$(CPX_FLAGS)" ""
NO_CPLEX = TRUE
endif

ifeq "$(NO_CPLEX)" "TRUE"
SOURCES = coxic.c
OBJECTS = coxic.o
CPX_FLAGS =
CPX_LIBS =
endif

PKG_CPPFLAGS = $(SHLIB_PTHREAD_FLAGS) $(CPX_FLAGS)
PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) $(SHLIB_PTHREAD_FLAGS) \
	$(CPX_LIBS)
